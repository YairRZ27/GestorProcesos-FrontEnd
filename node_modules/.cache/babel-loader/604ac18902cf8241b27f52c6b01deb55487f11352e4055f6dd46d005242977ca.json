{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\YairRz\\\\Documents\\\\GestorProcesos\\\\Frontend\\\\gestorprocesos\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { apiGetUserProfile } from './api/auth';\nimport Notification from './components/Notification';\nimport Navbar from './components/Navbar';\nimport AppRouter from './routes/AppRouter';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst appId = 'GestorProcesos-Frontend';\nfunction App() {\n  _s();\n  const [user, setUser] = useState(null);\n  const [isLoadingUser, setIsLoadingUser] = useState(true);\n  const [currentPage, setCurrentPage] = useState('login');\n  const [notification, setNotificationMessage] = useState('');\n  const [notificationType, setNotificationType] = useState('success');\n  const setNotification = useCallback((message, type) => {\n    setNotificationMessage(message);\n    setNotificationType(type);\n    if (window.notificationTimeout) clearTimeout(window.notificationTimeout);\n    window.notificationTimeout = setTimeout(() => setNotificationMessage(''), 5000);\n  }, []);\n  useEffect(() => {\n    const checkAuthStatus = async () => {\n      setIsLoadingUser(true);\n      const token = localStorage.getItem('authToken');\n      if (token) {\n        try {\n          const userProfile = await apiGetUserProfile(token);\n          setUser(userProfile);\n          setCurrentPage('dashboard');\n        } catch (error) {\n          localStorage.removeItem('authToken');\n          localStorage.removeItem('userId');\n          setUser(null);\n          setCurrentPage('login');\n          if (error.message.includes('Sesión inválida')) {\n            setNotification(error.message, 'error');\n          }\n        }\n      } else {\n        setUser(null);\n        if (currentPage !== 'register' && currentPage !== 'login') {\n          setCurrentPage('login');\n        }\n      }\n      setIsLoadingUser(false);\n    };\n    checkAuthStatus();\n  }, [setNotification, currentPage]);\n  const handleLoginSuccess = userData => {\n    setUser(userData);\n    setCurrentPage('dashboard');\n  };\n  const handleLogout = () => {\n    localStorage.removeItem('authToken');\n    localStorage.removeItem('userId');\n    setUser(null);\n    setCurrentPage('login');\n  };\n  const handleRegisterSuccess = () => {\n    setCurrentPage('login');\n    setNotification('¡Registro exitoso! Por favor, inicia sesión.', 'success');\n  };\n  if (isLoadingUser) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen flex items-center justify-center bg-slate-900\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"animate-spin h-12 w-12 text-sky-400 mx-auto mb-4\",\n          viewBox: \"0 0 24 24\",\n          children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n            className: \"opacity-25\",\n            cx: \"12\",\n            cy: \"12\",\n            r: \"10\",\n            stroke: \"currentColor\",\n            strokeWidth: \"4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n            className: \"opacity-75\",\n            fill: \"currentColor\",\n            d: \"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xl text-sky-300\",\n          children: \"Verificando sesi\\xF3n...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-slate-900 text-white flex flex-col\",\n    children: [/*#__PURE__*/_jsxDEV(Notification, {\n      message: notification,\n      type: notificationType,\n      onClose: () => setNotificationMessage('')\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }, this), user && /*#__PURE__*/_jsxDEV(Navbar, {\n      onLogout: handleLogout,\n      userEmail: user.correo || user.email,\n      onNavigate: setCurrentPage,\n      currentPage: currentPage,\n      setNotification: setNotification\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"flex-grow\",\n      children: /*#__PURE__*/_jsxDEV(AppRouter, {\n        user: user,\n        onLoginSuccess: handleLoginSuccess,\n        onRegisterSuccess: handleRegisterSuccess,\n        setNotification: setNotification,\n        handleLogout: handleLogout,\n        currentPage: currentPage,\n        setCurrentPage: setCurrentPage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n      className: \"bg-slate-800 text-center p-4 text-sm text-slate-500\",\n      children: [\"\\xA9 \", new Date().getFullYear(), \" Mi Aplicaci\\xF3n Moderna. Todos los derechos reservados. AppID: \", appId]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 85,\n    columnNumber: 9\n  }, this);\n}\n_s(App, \"vKJYQguqxkY4GzmQRhoymfH5DhU=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","apiGetUserProfile","Notification","Navbar","AppRouter","jsxDEV","_jsxDEV","appId","App","_s","user","setUser","isLoadingUser","setIsLoadingUser","currentPage","setCurrentPage","notification","setNotificationMessage","notificationType","setNotificationType","setNotification","message","type","window","notificationTimeout","clearTimeout","setTimeout","checkAuthStatus","token","localStorage","getItem","userProfile","error","removeItem","includes","handleLoginSuccess","userData","handleLogout","handleRegisterSuccess","className","children","viewBox","cx","cy","r","stroke","strokeWidth","fileName","_jsxFileName","lineNumber","columnNumber","fill","d","onClose","onLogout","userEmail","correo","email","onNavigate","onLoginSuccess","onRegisterSuccess","Date","getFullYear","_c","$RefreshReg$"],"sources":["C:/Users/YairRz/Documents/GestorProcesos/Frontend/gestorprocesos/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { apiGetUserProfile } from './api/auth';\nimport Notification from './components/Notification';\nimport Navbar from './components/Navbar';\nimport AppRouter from './routes/AppRouter';\n\nconst appId = 'GestorProcesos-Frontend';\n\nfunction App() {\n    const [user, setUser] = useState(null);\n    const [isLoadingUser, setIsLoadingUser] = useState(true);\n    const [currentPage, setCurrentPage] = useState('login');\n    const [notification, setNotificationMessage] = useState('');\n    const [notificationType, setNotificationType] = useState('success');\n\n    const setNotification = useCallback((message, type) => {\n        setNotificationMessage(message);\n        setNotificationType(type);\n        if (window.notificationTimeout) clearTimeout(window.notificationTimeout);\n        window.notificationTimeout = setTimeout(() => setNotificationMessage(''), 5000);\n    }, []);\n\n    useEffect(() => {\n        const checkAuthStatus = async () => {\n            setIsLoadingUser(true);\n            const token = localStorage.getItem('authToken');\n\n            if (token) {\n                try {\n                    const userProfile = await apiGetUserProfile(token);\n                    setUser(userProfile);\n                    setCurrentPage('dashboard');\n                } catch (error) {\n                    localStorage.removeItem('authToken');\n                    localStorage.removeItem('userId');\n                    setUser(null);\n                    setCurrentPage('login');\n                    if (error.message.includes('Sesión inválida')) {\n                        setNotification(error.message, 'error');\n                    }\n                }\n            } else {\n                setUser(null);\n                if (currentPage !== 'register' && currentPage !== 'login') {\n                     setCurrentPage('login');\n                }\n            }\n            setIsLoadingUser(false);\n        };\n        checkAuthStatus();\n    }, [setNotification, currentPage]);\n\n    const handleLoginSuccess = (userData) => {\n        setUser(userData);\n        setCurrentPage('dashboard');\n    };\n\n    const handleLogout = () => {\n        localStorage.removeItem('authToken');\n        localStorage.removeItem('userId');\n        setUser(null);\n        setCurrentPage('login');\n    };\n\n    const handleRegisterSuccess = () => {\n        setCurrentPage('login');\n        setNotification('¡Registro exitoso! Por favor, inicia sesión.', 'success');\n    };\n\n    if (isLoadingUser) {\n        return (\n            <div className=\"min-h-screen flex items-center justify-center bg-slate-900\">\n                <div className=\"text-center\">\n                    <svg className=\"animate-spin h-12 w-12 text-sky-400 mx-auto mb-4\" viewBox=\"0 0 24 24\">\n                        <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                        <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                    </svg>\n                    <p className=\"text-xl text-sky-300\">Verificando sesión...</p>\n                </div>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"min-h-screen bg-slate-900 text-white flex flex-col\">\n            <Notification message={notification} type={notificationType} onClose={() => setNotificationMessage('')} />\n            {user && (\n                <Navbar\n                    onLogout={handleLogout}\n                    userEmail={user.correo || user.email}\n                    onNavigate={setCurrentPage}\n                    currentPage={currentPage}\n                    setNotification={setNotification}\n                />\n            )}\n            <main className=\"flex-grow\">\n                <AppRouter\n                    user={user}\n                    onLoginSuccess={handleLoginSuccess}\n                    onRegisterSuccess={handleRegisterSuccess}\n                    setNotification={setNotification}\n                    handleLogout={handleLogout}\n                    currentPage={currentPage}\n                    setCurrentPage={setCurrentPage}\n                />\n            </main>\n            <footer className=\"bg-slate-800 text-center p-4 text-sm text-slate-500\">\n                © {new Date().getFullYear()} Mi Aplicación Moderna. Todos los derechos reservados. AppID: {appId}\n            </footer>\n        </div>\n    );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}