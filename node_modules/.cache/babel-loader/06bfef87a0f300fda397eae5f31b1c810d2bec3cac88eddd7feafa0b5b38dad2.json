{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\YairRz\\\\Documents\\\\GestorProcesos\\\\Frontend\\\\gestorprocesos\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { BrowserRouter } from 'react-router-dom';\nimport { apiGetUserProfile } from './api/auth';\nimport Notification from './components/Notification';\nimport Navbar from './components/Navbar';\nimport AppRouter from './routes/AppRouter';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst appId = 'GestorProcesos-Frontend';\nconst App = () => {\n  _s();\n  const [user, setUser] = useState(null);\n  const [isLoadingUser, setIsLoadingUser] = useState(true);\n  const [currentPage, setCurrentPage] = useState('login');\n  const [notification, setNotificationMessage] = useState('');\n  const [notificationType, setNotificationType] = useState('success');\n  const setNotification = useCallback((message, type) => {\n    setNotificationMessage(message);\n    setNotificationType(type);\n    if (window.notificationTimeout) clearTimeout(window.notificationTimeout);\n    window.notificationTimeout = setTimeout(() => setNotificationMessage(''), 5000);\n  }, []);\n  useEffect(() => {\n    const checkAuthStatus = async () => {\n      setIsLoadingUser(true);\n      const token = localStorage.getItem('authToken');\n      if (token) {\n        try {\n          const userProfile = await apiGetUserProfile(token);\n          setUser(userProfile);\n          setCurrentPage('dashboard');\n        } catch (error) {\n          localStorage.removeItem('authToken');\n          setUser(null);\n          setCurrentPage('login');\n          if (error.message.includes('Sesión inválida')) {\n            setNotification(error.message, 'error');\n          }\n        }\n      } else {\n        setUser(null);\n        if (currentPage !== 'register' && currentPage !== 'login') {\n          setCurrentPage('login');\n        }\n      }\n      setIsLoadingUser(false);\n    };\n    checkAuthStatus();\n  }, [setNotification, currentPage]);\n  const handleLoginSuccess = userData => {\n    setUser(userData);\n    setCurrentPage('dashboard');\n  };\n  const handleLogout = () => {\n    setUser(null);\n    setCurrentPage('login');\n  };\n  const handleRegisterSuccess = () => setCurrentPage('login');\n  if (isLoadingUser) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen flex items-center justify-center bg-slate-900\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"animate-spin h-12 w-12 text-sky-400 mx-auto mb-4\",\n          viewBox: \"0 0 24 24\",\n          children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n            className: \"opacity-25\",\n            cx: \"12\",\n            cy: \"12\",\n            r: \"10\",\n            stroke: \"currentColor\",\n            strokeWidth: \"4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n            className: \"opacity-75\",\n            fill: \"currentColor\",\n            d: \"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xl text-sky-300\",\n          children: \"Verificando sesi\\xF3n...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(BrowserRouter, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-slate-900 text-white flex flex-col\",\n      children: [/*#__PURE__*/_jsxDEV(Notification, {\n        message: notification,\n        type: notificationType,\n        onClose: () => setNotificationMessage('')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this), user && /*#__PURE__*/_jsxDEV(Navbar, {\n        onLogout: handleLogout,\n        userEmail: user.email,\n        onNavigate: setCurrentPage,\n        currentPage: currentPage,\n        setNotification: setNotification\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        className: \"flex-grow\",\n        children: /*#__PURE__*/_jsxDEV(AppRouter, {\n          user: user,\n          onLoginSuccess: handleLoginSuccess,\n          onRegisterSuccess: handleRegisterSuccess,\n          setNotification: setNotification,\n          handleLogout: handleLogout,\n          userEmail: user === null || user === void 0 ? void 0 : user.email,\n          currentPage: currentPage,\n          setCurrentPage: setCurrentPage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n        className: \"bg-slate-800 text-center p-4 text-sm text-slate-500\",\n        children: [\"\\xA9 \", new Date().getFullYear(), \" Mi Aplicaci\\xF3n Moderna. Todos los derechos reservados. AppID: \", appId]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 9\n  }, this);\n};\n_s(App, \"vKJYQguqxkY4GzmQRhoymfH5DhU=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","BrowserRouter","apiGetUserProfile","Notification","Navbar","AppRouter","jsxDEV","_jsxDEV","appId","App","_s","user","setUser","isLoadingUser","setIsLoadingUser","currentPage","setCurrentPage","notification","setNotificationMessage","notificationType","setNotificationType","setNotification","message","type","window","notificationTimeout","clearTimeout","setTimeout","checkAuthStatus","token","localStorage","getItem","userProfile","error","removeItem","includes","handleLoginSuccess","userData","handleLogout","handleRegisterSuccess","className","children","viewBox","cx","cy","r","stroke","strokeWidth","fileName","_jsxFileName","lineNumber","columnNumber","fill","d","onClose","onLogout","userEmail","email","onNavigate","onLoginSuccess","onRegisterSuccess","Date","getFullYear","_c","$RefreshReg$"],"sources":["C:/Users/YairRz/Documents/GestorProcesos/Frontend/gestorprocesos/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { BrowserRouter } from 'react-router-dom';\nimport { apiGetUserProfile } from './api/auth';\nimport Notification from './components/Notification';\nimport Navbar from './components/Navbar';\nimport AppRouter from './routes/AppRouter';\n\nconst appId = 'GestorProcesos-Frontend';\n\nconst App = () => {\n    const [user, setUser] = useState(null);\n    const [isLoadingUser, setIsLoadingUser] = useState(true);\n    const [currentPage, setCurrentPage] = useState('login');\n    const [notification, setNotificationMessage] = useState('');\n    const [notificationType, setNotificationType] = useState('success');\n\n    const setNotification = useCallback((message, type) => {\n        setNotificationMessage(message);\n        setNotificationType(type);\n        if (window.notificationTimeout) clearTimeout(window.notificationTimeout);\n        window.notificationTimeout = setTimeout(() => setNotificationMessage(''), 5000);\n    }, []);\n\n    useEffect(() => {\n        const checkAuthStatus = async () => {\n            setIsLoadingUser(true);\n            const token = localStorage.getItem('authToken');\n            if (token) {\n                try {\n                    const userProfile = await apiGetUserProfile(token);\n                    setUser(userProfile);\n                    setCurrentPage('dashboard');\n                } catch (error) {\n                    localStorage.removeItem('authToken');\n                    setUser(null);\n                    setCurrentPage('login');\n                    if (error.message.includes('Sesión inválida')) {\n                        setNotification(error.message, 'error');\n                    }\n                }\n            } else {\n                setUser(null);\n                if (currentPage !== 'register' && currentPage !== 'login') {\n                    setCurrentPage('login');\n                }\n            }\n            setIsLoadingUser(false);\n        };\n        checkAuthStatus();\n    }, [setNotification, currentPage]);\n\n    const handleLoginSuccess = (userData) => {\n        setUser(userData);\n        setCurrentPage('dashboard');\n    };\n\n    const handleLogout = () => {\n        setUser(null);\n        setCurrentPage('login');\n    };\n\n    const handleRegisterSuccess = () => setCurrentPage('login');\n\n    if (isLoadingUser) {\n        return (\n            <div className=\"min-h-screen flex items-center justify-center bg-slate-900\">\n                <div className=\"text-center\">\n                    <svg className=\"animate-spin h-12 w-12 text-sky-400 mx-auto mb-4\" viewBox=\"0 0 24 24\">\n                        <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                        <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                    </svg>\n                    <p className=\"text-xl text-sky-300\">Verificando sesión...</p>\n                </div>\n            </div>\n        );\n    }\n\n    return (\n        <BrowserRouter>\n            <div className=\"min-h-screen bg-slate-900 text-white flex flex-col\">\n                <Notification message={notification} type={notificationType} onClose={() => setNotificationMessage('')} />\n                {user && (\n                    <Navbar\n                        onLogout={handleLogout}\n                        userEmail={user.email}\n                        onNavigate={setCurrentPage}\n                        currentPage={currentPage}\n                        setNotification={setNotification}\n                    />\n                )}\n                <main className=\"flex-grow\">\n                    <AppRouter\n                        user={user}\n                        onLoginSuccess={handleLoginSuccess}\n                        onRegisterSuccess={handleRegisterSuccess}\n                        setNotification={setNotification}\n                        handleLogout={handleLogout}\n                        userEmail={user?.email}\n                        currentPage={currentPage}\n                        setCurrentPage={setCurrentPage}\n                    />\n                </main>\n                <footer className=\"bg-slate-800 text-center p-4 text-sm text-slate-500\">\n                    © {new Date().getFullYear()} Mi Aplicación Moderna. Todos los derechos reservados. AppID: {appId}\n                </footer>\n            </div>\n        </BrowserRouter>\n    );\n};\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}